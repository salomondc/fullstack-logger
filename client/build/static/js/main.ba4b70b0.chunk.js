(this.webpackJsonplogger=this.webpackJsonplogger||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),s=n(6),a=n.n(s),o=n(5),i=n.n(o),l=n(7),j=n(1),u=n(3),b=n(0),d=function(t){var e=t.logs;return Object(b.jsxs)("ul",{className:"showLogs",children:[Object(b.jsxs)("p",{className:"logNumber",children:["- ",e.length," -"]}),e&&e[0]?e.map((function(t,e){return Object(b.jsxs)("li",{className:!0===t.new?"new":"",children:[Object(b.jsx)("b",{className:"description",children:t.description}),Object(b.jsxs)("data",{className:"dates",children:["S: ",t.startAt,Object(b.jsx)("br",{}),"E: ",t.endAt]})]},"log_entry_".concat(e))})):Object(b.jsx)("center",{children:Object(b.jsx)("p",{children:Object(b.jsx)("code",{children:"No entries yet..."})})})]})},O=function(){var t=Object(c.useState)(""),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)({description:"",startAt:null,endAt:null}),a=Object(u.a)(s,2),o=a[0],i=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"loading",children:n}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r("..."),fetch("http://localhost:".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||4e3,"/log/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(t){return t.json()})).then((function(t){return t.error?r(Object(b.jsxs)("em",{children:["There was a problem uploading your data | code: ",t.code,Object(b.jsx)("br",{}),'"',t.routine,'"']})):r(Object(b.jsxs)(b.Fragment,{children:["'",t.description.slice(0,20),"...' Was uploaded ",Object(b.jsx)("font",{color:"#AFB",children:"succesfully!"})]}))}))},id:"logEntry",action:"POST",children:[Object(b.jsx)("label",{children:"Log Description"}),Object(b.jsx)("textarea",{onChange:function(t){return i((function(e){return Object(j.a)(Object(j.a)({},e),{},{description:t.target.value})}))},rows:"1",placeholder:"Put your description here..."}),Object(b.jsx)("label",{children:"Start Date"}),Object(b.jsx)("input",{onChange:function(t){return i((function(e){return Object(j.a)(Object(j.a)({},e),{},{startAt:t.target.value})}))},type:"datetime-local"}),Object(b.jsx)("label",{children:"End Date"}),Object(b.jsx)("input",{onChange:function(t){return i((function(e){return Object(j.a)(Object(j.a)({},e),{},{endAt:t.target.value})}))},min:o.startAt,type:"datetime-local"}),Object(b.jsx)("input",{className:"clickable",type:"submit",value:"SUBMIT"})]})]})};n(14);var h=function(){var t=Object(c.useState)(!0),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)([]),a=Object(u.a)(s,2),o=a[0],h=a[1],p=Object(c.useState)(""),f=Object(u.a)(p,2),x=f[0],g=f[1],m=function(t){return Object(j.a)(Object(j.a)({},t),{},{startAt:new Date(t.startAt),endAt:new Date(t.endAt)})},S=function(t){return Object(j.a)(Object(j.a)({},t),{},{startAt:t.startAt.toLocaleString(),endAt:t.endAt.toLocaleString()})},A=function(t,e,n){var c=t.filter((function(t){return!e.some((function(e){return t.id===e.id}))}));return c.length?e.concat(n(c)):t};return Object(c.useEffect)((function(){console.log(o),function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g("..."),fetch("http://localhost:".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||4e3,"/logs"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){return t.map((function(t){return m(t)})).sort((function(t,e){return e.startAt-t.startAt})).map((function(t){return S(t)}))})).then((function(t){return console.log(t.length),g(Object(b.jsxs)("cite",{children:["Up to date",Object(b.jsx)("br",{}),t.length-o.length!==0?Object(b.jsxs)("span",{children:["New entries: ",Object(b.jsxs)("font",{color:"#AFB",children:["[",t.length-o.length,"]"]}),"!"]}):Object(b.jsx)("font",{color:"#AAA",children:"No new entries"})]})),A(t,o,(function(t){return t.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{new:!0})}))}))})).then((function(t){return h(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[n]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"container",children:[n&&Object(b.jsx)("div",{className:"loading",children:x}),n?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:"showLogs head",children:Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Description"}),Object(b.jsx)("br",{}),Object(b.jsxs)("data",{className:"dates",style:{minHeight:"max-content"},children:["Start Date",Object(b.jsx)("br",{}),"End Date"]})]})}),Object(b.jsx)(d,{logs:o})]}):Object(b.jsx)(O,{}),Object(b.jsx)("button",{className:"clickable",onClick:function(){return r((function(t){return!t}))},children:n?"CREATE":"VIEW"})]})})};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ba4b70b0.chunk.js.map